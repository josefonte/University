<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1"><em>State</em> inicial utilizado para testes</a></li><li><a href="#g:2">Fun&#231;&#245;es auxiliares</a></li><li><a href="#g:3">Jogadas dos Pacmans </a></li><li><a href="#g:4">Fun&#231;&#245;es auxiliares para as situa&#231;&#245;es em que o Pacman &quot;encontra&quot; comida e fantasmas (simultaneamente).</a></li><li><a href="#g:5">Jogadas dos fantasmas</a></li><li><a href="#g:6">Fun&#231;&#245;es auxiliares para as <strong>playGho</strong></a></li><li><a href="#g:7">Objetivo da Tarefa 2</a></li><li><a href="#g:8">&quot;<em>Quick Plays</em>&quot;&quot;</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Nesta tarefa o <strong>objetivo &#233; fazer jogadas com os <em>Players</em> (Ghosts e Pacmans)</strong>. De modo a fazer jogadas utiliza-se a fun&#231;&#227;o <strong>play</strong> que recebe uma <strong><em>Play</em> (Move id or)</strong> e um <strong><em>State</em> (maze players level)</strong>, devolvendo um <strong><em>State</em> (maze players level)</strong>. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:stateInicial">stateInicial</a> :: Int -&gt; Int -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:plIniciais">plIniciais</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:pacInicial">pacInicial</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:ghostsInicial">ghostsInicial</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:emptyPeca">emptyPeca</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:auxemptyPeca">auxemptyPeca</a> :: Int -&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>] -&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>]</li><li class="src short"><a href="#v:revealPieceOr">revealPieceOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:revealPiece">revealPiece</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:auxRevealPiece">auxRevealPiece</a> :: Int -&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>] -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:revealPlayerOr">revealPlayerOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:revealPlayer">revealPlayer</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:nPlayer">nPlayer</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:movimento">movimento</a> :: (Int, Int) -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:changeMouth">changeMouth</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:ghostORPacmanvalor">ghostORPacmanvalor</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int</li><li class="src short"><a href="#v:coordsiniciaisPac">coordsiniciaisPac</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; (Int, Int)</li><li class="src short"><a href="#v:coordsiniciaisGho">coordsiniciaisGho</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:aberturaCasa">aberturaCasa</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:changeOr">changeOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:opositeOr">opositeOr</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; Bool</li><li class="src short"><a href="#v:getPlayerHealth">getPlayerHealth</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int</li><li class="src short"><a href="#v:encID">encID</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:setPlayerOrientation">setPlayerOrientation</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playPac">playPac</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:emptyplayExp">emptyplayExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:emptyplay">emptyplay</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:foodLittleExp">foodLittleExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:foodLittle">foodLittle</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:pacMegaSpeed">pacMegaSpeed</a> :: Double</li><li class="src short"><a href="#v:pacNormalSpeed">pacNormalSpeed</a> :: Double</li><li class="src short"><a href="#v:ghostAliveSpeed">ghostAliveSpeed</a> :: Double</li><li class="src short"><a href="#v:ghostDeadSpeed">ghostDeadSpeed</a> :: Double</li><li class="src short"><a href="#v:foodBigExp">foodBigExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:foodBig">foodBig</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:geralPacGhost">geralPacGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:pacNormalGhost">pacNormalGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:pacMegaGhost">pacMegaGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:teleport">teleport</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:teleportAux">teleportAux</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:pacDeath">pacDeath</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:megalittle">megalittle</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:foodLittleExp2">foodLittleExp2</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:foodLittle2">foodLittle2</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:megaBig">megaBig</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:foodBigExp2">foodBigExp2</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:foodBig2">foodBig2</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playGho">playGho</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:ghoMoving">ghoMoving</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:ghoMovingAux">ghoMovingAux</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:ghoKillPacman">ghoKillPacman</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:ghoVsMega">ghoVsMega</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:quickP">quickP</a> :: Int -&gt; Int -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:revealAllPlayerOr">revealAllPlayerOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:revealAllPlayers">revealAllPlayers</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:rmPacmans">rmPacmans</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:revealPieceReverse">revealPieceReverse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:rmGhosts">rmGhosts</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:downs">downs</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1><em>State</em> inicial utilizado para testes</h1></a><div class="top"><p class="src"><a id="v:stateInicial" class="def">stateInicial</a> <a href="#v:stateInicial" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>largura do Labirinto   </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>altura do labirinto</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p><em>seed</em> para gerar as pe&#231;as aleat&#243;rias</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Devolve um <em>State</em> (um labirinto, uma lista de <em>Players</em> e o nivel 1)</p></td></tr></table></div><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o  </h2><p><strong>Cria um <em>State</em> inicial t&#237;pico com os <em>Ghosts</em> dentro da casa e o Pacman abaixo da mesma.</strong>   
 Utiliza a fun&#231;&#227;o <strong>generateMaze</strong> (da <em>Tarefa 1</em>) para criar o labirinto e a fun&#231;&#227;o <strong>plIniciais</strong> para criar a sua lista de <em>Players</em> iniciais.</p><h3>Utiliza&#231;&#227;o</h3><p>Utilizado nos v&#225;rios testes efetuados ao longo da constru&#231;&#227;o da Tarefa 2.</p></div></div><div class="top"><p class="src"><a id="v:plIniciais" class="def">plIniciais</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:plIniciais" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Cria a lista de <em>Players</em> iniciais juntando o <strong>pacInicial</strong> com os <strong>ghostsIniciais</strong>.</p></div></div><div class="top"><p class="src"><a id="v:pacInicial" class="def">pacInicial</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:pacInicial" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p><strong>Cria um Pacman na posi&#231;&#227;o inicial.</strong> Para isso, utiliza a fun&#231;&#227;o <strong>coordsiniciaisPac</strong> que determinada a suas coordenadas iniciais. </p><h2>Exemplo</h2><ul><li><pre>pacInicial (generateMaze 20 20 12) = Pacman (PacState (0,(<strong>11,9</strong>),1,Null,0,3) 0 Open Normal)</pre></li><li><pre>pacInicial (generateMaze 18 20 12) = Pacman (PacState (0,(<strong>11,8</strong>),1,Null,0,3) 0 Open Normal)</pre></li></ul></div></div><div class="top"><p class="src"><a id="v:ghostsInicial" class="def">ghostsInicial</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:ghostsInicial" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o </h2><p>Esta fun&#231;&#227;o recebe um labirinto e devolve uma lista com quatro <em>Ghosts</em> com coordenadas correspondentes &#224;s suas posi&#231;&#227;o dentro da casa do fantasmas da seguinda forma:  <strong><code> MMMM </code></strong>  (caso seja par) ou  <strong><code>M M M M</code></strong>  (caso seja impar).</p><h2>Exemplo               </h2><ul><li><pre>ghostsInicial (generateMaze 20 20 12) = [Ghost  (GhoState (1,(<strong>9,8</strong>),1,Null,0,1) Alive),
                                        Ghost  (GhoState (2,(<strong>9,9</strong>),1,Null,0,1) Alive),
                                        Ghost  (GhoState (3,(<strong>9,10</strong>),1,Null,0,1) Alive),
                                        Ghost  (GhoState (4,(<strong>9,11</strong>),1,Null,0,1) Alive)]</pre></li><li><pre>ghostsInicial (generateMaze 15 11 2) = [Ghost  (GhoState (1,<strong>(5,4)</strong>,1,Null,0,1) Alive), 
                                        Ghost  (GhoState (2,<strong>(5,6)</strong>,1,Null,0,1) Alive),
                                        Ghost  (GhoState (3,<strong>(5,8)</strong>,1,Null,0,1) Alive),
                                        Ghost  (GhoState (4,<strong>(5,10)</strong>,1,Null,0,1) Alive)]</pre></li></ul></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es auxiliares</h1></a><div class="top"><p class="src"><a id="v:emptyPeca" class="def">emptyPeca</a> <a href="#v:emptyPeca" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas da posi&#231;&#227;o alvo</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>labirinto alvo</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>devolve um labirinto com a posi&#231;&#227;o <strong>Empty</strong> nas coordenadas indicadas </p></td></tr></table></div><div class="doc"><h2>Descri&#231;&#227;o da Fun&#231;&#227;o</h2><p>Troca a pe&#231;a nas coordenadas indicadas por <strong>Empty</strong>. 
 Funciona &quot;saltando&quot; corredores e quando chega ao corredor certo, invoca a fun&#231;&#227;o <strong>auxemptyPeca</strong>.  </p><h3>Utiliza&#231;&#227;o</h3><p>A fun&#231;&#227;o &#233; utilizada para &quot;limpar&quot; a posi&#231;&#227;o por onde o Pacman passa.</p></div></div><div class="top"><p class="src"><a id="v:auxemptyPeca" class="def">auxemptyPeca</a> <a href="#v:auxemptyPeca" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Recebe a coordenada da largura</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>]</td><td class="doc"><p>Recebe o corredor   </p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>]</td><td class="doc"><p>Devolve o corredor com a posi&#231;&#227;o-alvo <strong>Empty</strong> </p></td></tr></table></div><div class="doc"><h2>Descri&#231;&#227;o da Fun&#231;&#227;o</h2><p>A fun&#231;&#227;o auxiliar da fun&#231;&#227;o <strong>emptyPeca</strong> funciona percorrendo o corredor at&#233; chegar &#224; coordenada pertendida e altera a mesma por <strong>Empty</strong>.   </p></div></div><div class="top"><p class="src"><a id="v:revealPieceOr" class="def">revealPieceOr</a> <a href="#v:revealPieceOr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>recebe uma <em>Play</em> com uma orienta&#231;&#227;o e um ID</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>receve um <em>State</em></p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></td><td class="doc"><p>devolve a <em>Piece</em> na posi&#231;&#227;o pretendida</p></td></tr></table></div><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o </h2><p>Revela a <strong>Piece</strong> para onde o jogador se ir&#225; mover. A fun&#231;&#227;o recebe um <em>Move</em> e um <em>State</em> e com estas informa&#231;&#245;es aplica a fun&#231;&#227;o <strong>revealPiece</strong> &#224;s coordenadas do movimento do jogador (recolhidas atrav&#233;s da fun&#231;ao <strong>getPlayerCoords</strong>).
 O seu funcinamento confere &#224; fun&#231;&#227;o flexibilidade pois pode ser utilizada com qualquer <em>Player</em> e qualquer orienta&#231;&#227;o.</p><h3>Utiliza&#231;&#227;o</h3><p>A fun&#231;&#227;o revela a pe&#231;a que existe na posi&#231;&#227;o para onde o <em>Player</em> se move. &#201; util pois o Pacman e os <em>Ghosts</em> tem rea&#231;&#245;es diferentes caso a posi&#231;&#227;o para onde se movem seja <strong>Wall</strong>, <strong>Empty</strong>, <strong>Food Big</strong> ou <strong>Food Little</strong>.  </p><h3>Exemplo</h3><pre>revealPieceOr (Move 0 R) (State maze players level) = <strong>revealPiece (1,3) maze</strong>
         where (1,2) = getPlayerCoords (encID 0 players)</pre></div></div><div class="top"><p class="src"><a id="v:revealPiece" class="def">revealPiece</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:revealPiece" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Revela a <strong>Piece</strong> que se encontra na <strong>posi&#231;&#227;o indicada</strong> do Maze recebido. A fun&#231;&#227;o <strong>revealPiece</strong> e a sua auxiliar <strong>auxRevealPiece</strong> funcionam de maneira similar &#224; fun&#231;&#227;o <strong>emptyPeca</strong> e <strong>auxemptyPeca</strong>, diferendo no que devolve. Neste caso, devolve uma <em>Piece</em>.</p></div></div><div class="top"><p class="src"><a id="v:auxRevealPiece" class="def">auxRevealPiece</a> :: Int -&gt; [<a href="Types.html#t:Piece" title="Types">Piece</a>] -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:auxRevealPiece" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;ao da Fun&#231;&#227;o </h2><p>Fun&#231;&#227;o auxiliar da fun&#231;&#227;o <strong>revealPiece</strong>.   </p></div></div><div class="top"><p class="src"><a id="v:revealPlayerOr" class="def">revealPlayerOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:revealPlayerOr" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Revela o <strong>Player</strong> que se encontra na Posi&#231;&#227;o para onde se move. Funciona de modo semelhante a <strong>revealPierceOr</strong> mas &#233; aplicada a fun&#231;&#227;o auxiliar <strong>revealPlayer</strong> sobre os argumentos.</p><h3>Utiliza&#231;&#227;o</h3><p>A fun&#231;&#227;o &#233; utilizada no confronto entre <em>Players</em> e a sua utilidade consiste no facto de que acontencem diferentes eventos que variam consoante os <em>Players</em> que se cruzam e os seus estados.</p></div></div><div class="top"><p class="src"><a id="v:revealPlayer" class="def">revealPlayer</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:revealPlayer" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Fun&#231;&#227;o auxiliar da <strong>revealPlayerOr</strong>. Recebe as coordenadas, uma lista de <em>Players</em> e devolve o <em>Player</em> com as mesmas coordenadas. </p></div></div><div class="top"><p class="src"><a id="v:nPlayer" class="def">nPlayer</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool <a href="#v:nPlayer" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Como as <em>Pieces</em> e os <em>Players</em> operam em <a href="Layers.html">Layers</a> diferentes, &#233; relevante saber se para as coordenadas para onde o <em>Player</em> se move tem <em>Players</em> ou n&#227;o. Caso tenha, utiliza a fun&#231;&#227;o <strong>revealPlayerOr</strong> que revela a identidade do <em>Player</em> (<strong>Ghost</strong> ou <strong>Pacman</strong>).</p></div></div><div class="top"><p class="src"><a id="v:movimento" class="def">movimento</a> :: (Int, Int) -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:movimento" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Recebendo coordenadas e uma orienta&#231;&#227;o, devolve as coordenadas no final do movimento.</p><h3>Utiliza&#231;&#227;o</h3><p>A fun&#231;&#227;o &#233; utilizada sobretudo para determinar se o <em>Player</em> entra num dos t&#250;neis e para alterar a sua posi&#231;&#227;o em outros casos. </p><h2>Exemplos</h2><ul><li><pre>movimento (1,1) D = (2,1)</pre></li><li><pre>movimento (1,1) R = (1,2)</pre></li></ul></div></div><div class="top"><p class="src"><a id="v:changeMouth" class="def">changeMouth</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:changeMouth" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>A fun&#231;&#227;o recebe um Pacman e altera a informa&#231;&#227;o relativa &#224; sua boca.</p><h2>Utiliza&#231;&#227;o</h2><p>Movimento da boca durante o movimento do Pacman pelo mapa. <strong>Nota:</strong> Esta fun&#231;&#227;o ainda n&#227;o &#233; utilizada nesta fase. </p></div></div><div class="top"><p class="src"><a id="v:ghostORPacmanvalor" class="def">ghostORPacmanvalor</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int <a href="#v:ghostORPacmanvalor" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Associa a um <em>Player</em> um inteiro. Neste caso <strong>Pacman = 2</strong> &amp;&amp; <strong>Ghost = 1</strong>.</p><h3>Utiliza&#231;&#227;o </h3><p>Necess&#225;rio nas condi&#231;&#245;es das fun&#231;&#245;es <strong>playPac</strong> e <strong>playGhost</strong>. </p></div></div><div class="top"><p class="src"><a id="v:coordsiniciaisPac" class="def">coordsiniciaisPac</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; (Int, Int) <a href="#v:coordsiniciaisPac" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Dado um <em>Maze</em>, devolve a posi&#231;&#227;o inicial do Pacman. Calcula a posi&#231;&#227;o para larguras e alturas pares e &#237;mpares.  </p><h3>Utiliza&#231;&#227;o </h3><p>Quando o Pacman &quot;choca&quot; com um Ghost e ainda tem vidas, volta para a posi&#231;&#227;o inicial.  </p><h3>Exemplos </h3><ul><li><pre>coordsiniciaisPac (generateMaze 20 20 12) = (11,9)</pre></li></ul></div></div><div class="top"><p class="src"><a id="v:coordsiniciaisGho" class="def">coordsiniciaisGho</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:coordsiniciaisGho" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Dado um <em>Maze</em> devolve a posi&#231;&#227;o inicial do <em>Ghost</em>. Ao contr&#225;rio do <strong>coordsiniciaisPac</strong>, os c&#225;lculos j&#225; est&#227;o feitos no <strong>ghostsInciais</strong> e, por isso, apenas recolhe as coordenadas do primeiro elemento.  </p><h3>Utiliza&#231;&#227;o </h3><p>Quando o Pacman no modo <em>Mega</em> &quot;choca&quot; com um <em>Ghost</em>, volta para a casa dos fantasmas.  </p></div></div><div class="top"><p class="src"><a id="v:aberturaCasa" class="def">aberturaCasa</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:aberturaCasa" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Recebendo um <em>Maze</em>, define uma lista de coordenadas da entrada da casa dos fantasmas.</p><h3>Utiliza&#231;&#227;o </h3><p>Quando o Pacman se move pelo labirinto n&#227;o pode entrar na casa dos fantasmas, logo assume o conjunto de coordenadas criado como uma <strong>Wall</strong>.</p></div></div><div class="top"><p class="src"><a id="v:changeOr" class="def">changeOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:changeOr" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Recebe uma <em><strong>Play</strong></em> e a lista de <em><strong>Players</strong></em>. Caso o <em>Player</em> na cabe&#231;a da lista tenha o mesmo ID da <em>Play</em>, a sua orienta&#231;&#227;o &#233; alterada para a da <em>Play</em>.   </p><h3>Utiliza&#231;&#227;o </h3><p>Quando o <em>Player</em> muda de orienta&#231;&#227;o.  </p></div></div><div class="top"><p class="src"><a id="v:opositeOr" class="def">opositeOr</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; Bool <a href="#v:opositeOr" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Verifica se as duas orienta&#231;&#245;es de input s&#227;o opostas ou n&#227;o. Se forem iguais, devolve <strong>False</strong>, caso sejam contr&#225;rias, devolve <strong>True</strong>.</p><h3>Utiliza&#231;&#227;o </h3><p>Quando o <em>Player</em> efetua uma jogada e se esta tiver uma orienta&#231;&#227;o diferente da do <em>Player</em>, ele apenas muda de orienta&#231;&#227;o mas n&#227;o troca de posi&#231;&#227;o.  </p></div></div><div class="top"><p class="src"><a id="v:getPlayerHealth" class="def">getPlayerHealth</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int <a href="#v:getPlayerHealth" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Dado um <em><strong>Player</strong></em>, indica o valor da sua <em>health</em>.</p><h3>Utiliza&#231;&#227;o </h3><p>Utilizada nas condi&#231;&#245;es do <strong>playPac</strong>.</p><p>Quando o Pacman &quot;choca&quot; com um <em>Ghost</em>, dependendo da sua <em>health</em>, ter&#225; rea&#231;&#245;es diferentes. </p></div></div><div class="top"><p class="src"><a id="v:encID" class="def">encID</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:encID" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Dado um ID e uma lista de <em>Players</em>, a fun&#231;&#227;o encontra o jogador com o mesmo ID na lista.</p><h3>Utiliza&#231;&#227;o </h3><p>Utilizada em todos os casos em que se desconhece o <em>Player</em> que corresponde ao ID, como por exemplo, nas fun&#231;&#245;es <strong>revealPlayerOr</strong> e <strong>revealPieceOr</strong>, e nas condi&#231;&#245;es do <strong>playPac</strong> e <strong>playGho</strong>.   </p></div></div><div class="top"><p class="src"><a id="v:setPlayerOrientation" class="def">setPlayerOrientation</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:setPlayerOrientation" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Dado um <em>Player</em> e uma <em>Orientation</em>, <strong>muda a orienta&#231;&#227;o do <em>Player</em></strong> para a orienta&#231;&#227;o de input. </p><h3>Utiliza&#231;&#227;o </h3><p>Utilizada sempre que o <em>Player</em> muda de dire&#231;&#227;o e necessita de alterar a sua orienta&#231;&#227;o. </p></div></div><a href="#g:3" id="g:3"><h1>Jogadas dos Pacmans </h1></a><div class="top"><p class="src"><a id="v:playPac" class="def">playPac</a> <a href="#v:playPac" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p><strong>(Move ID OR)</strong> Recebe o ID do jogador e a <em>Orientation</em> da jogada </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p><strong>(<em>State</em> maze players level)</strong> Recebe um <em>State</em> composto pelo <em>Maze</em>, a lista dos <em>Players</em> e o <em>level</em></p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p><strong>(<em>State</em> maze players level)</strong> Devolve o <em>State</em> atualizado, o que pode envolver mudan&#231;as no maze ou na lista dos Players </p></td></tr></table></div><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>A fun&#231;&#227;o <strong>playPac</strong> &#233; respons&#225;vel por todo o tipo de jogadas que se executa com o <strong>ID</strong> de um jogador associado a um <strong>Pacman</strong>.</p><h2>Fun&#231;&#245;es locais da fun&#231;&#227;o <strong>playPac</strong></h2><p><strong>Coordenadas do <em>Player</em> que corresponde ao ID fornecido</strong></p><ul><li><pre>(a,b) = (getPlayerCoords (encID id players))</pre></li></ul><p><strong>Comprimento e largura do <em>Maze</em></strong></p><ul><li><pre>y = length (head maze)</pre></li><li><pre>x = length maze</pre></li></ul><p><strong><em>Maze</em> com a posi&#231;&#227;o do Pacman &quot;limpa&quot;</strong></p><ul><li><pre>removeP = emptyPeca (a,b) maze</pre></li></ul><p><strong>Revelar o <em>Player</em> que se encontra &#224; frente</strong></p><ul><li><pre>revealPlayer = revealPlayerOr (Move id or) players</pre></li></ul><p><strong>Revelar a <em>Piece</em> que se encontra &#224; frente</strong></p><ul><li><pre>revP = revealPieceOr (Move id or) (State maze players level)</pre></li></ul><h3>Condi&#231;&#245;es da fun&#231;&#227;o</h3><ul><li>Se a orienta&#231;&#227;o da <em>Play</em> for <strong>Null</strong>: devolve o mesmo <em>State</em>;</li><li>Se a orienta&#231;&#227;o da <em>Play</em> n&#227;o for a mesma da do fantasma: utiliza a fun&#231;&#227;o <strong>changeOr</strong> que apenas muda a orienta&#231;&#227;o do <em>Player</em> que corresponde ao ID da <em>Play</em>;  </li><li>Se a <em>Play</em> movimentar o jogador pelo <strong>t&#250;nel</strong>: utiliza a fun&#231;&#227;o <strong>teleport</strong> que faz o <em>Player</em> utilizar o t&#250;nel;</li><li>Se a <em>Play</em> movimentar o jogador para uma  <strong>Wall</strong> ou para a entrada da <strong>casa dos fantasmas</strong>: devolve o <strong>mesmo <em>State</em></strong>;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o <strong>Empty</strong>: devolve <strong>removeP</strong> (<em>Maze</em>), utiliza a fun&#231;&#227;o <strong>emptyplayExp</strong> e o nivel mant&#233;m-se constante;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com <strong>Food Little</strong>: devolve um <strong>removeP</strong> (<em>Maze</em>), utiliza a fun&#231;&#227;o <strong>foodLittleExp</strong> e o nivel mant&#233;m-se. Assim sendo, o Pacman vai avan&#231;ar de casa e <strong>aumentar 1 points</strong>;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com <strong>Food Big</strong>: devolve um <strong>removeP</strong> (<em>Maze</em>), utiliza a fun&#231;&#227;o <strong>foodBigExp</strong> e o nivel mant&#233;m-se. Assim sendo, o Pacman muda para o estado <strong>Mega</strong> e <strong>aumenta 5 points</strong>;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com <strong>Ghost</strong>, a sua &quot;<strong>health = 0</strong>&quot; e modo <strong>Normal</strong>: devolve o <strong>mesmo Maze</strong>, utiliza a fun&#231;&#227;o <strong>pacDeath</strong> e o n&#237;vel  mant&#233;m-se. Assim sendo, o Pacman <strong>entra no modo Dying</strong>;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com um <strong>Ghost</strong>, a sua &quot;<strong>health &gt; 0</strong>&quot; e o modo <strong>Normal</strong>: devolve um <strong>removeP</strong> (<em>Maze</em>), utiliza a fun&#231;&#227;o <strong>geralPacGhost</strong> e o n&#237;vel mant&#233;m-se. Assim sendo, o Pacman volta &#224; sua posi&#231;&#227;o inicial, <strong>perdendo 1 lives</strong>;</li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com um <strong>Ghost</strong> e o seu modo for <strong>Mega</strong>: dependendo de se o Ghost est&#225; numa posi&#231;&#227;o que &quot;abaixo&quot; tem <em>Food Little</em>, <em>Food Big</em> ou <em>Empty</em>, utiliza respetivamente a fun&#231;&#227;o <strong>megaBig</strong>, <strong>megaLittle</strong> ou <strong>nenhuma</strong> sobre a fun&#231;&#227;o <strong>geralPacGhost</strong> e o nivel mant&#233;m-se. Assim sendo, o <em>Ghost</em> volta &#224; casa dos fantasmas no modo <strong>Alive</strong> e o Pacman <strong>contabiliza +10 points</strong> por eliminar um <em>Ghost</em> (para al&#233;mde poder contablizar os pontos da poss&#237;vel pe&#231;a &quot;abaixo&quot; do <em>Ghost</em>); </li><li>Se a <em>Play</em> movimentar o jogador para uma posi&#231;&#227;o com um <strong>Pacman</strong>: devolve <strong>removeP</strong> (<em>Maze</em>), aplica a fun&#231;&#227;o <strong>emptyplayExp</strong> e o n&#237;vel mant&#233;m.</li></ul></div></div><div class="top"><p class="src"><a id="v:emptyplayExp" class="def">emptyplayExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:emptyplayExp" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Utilizada quando o Pacman se move para coordenadas com a pe&#231;a <em>Empty</em> . Utlizando a fun&#231;&#227;o auxiliar <strong>emptyplay</strong>, altera as coordenadas do jogador do ID fornecido para a posi&#231;&#227;o pretendida.</p></div></div><div class="top"><p class="src"><a id="v:emptyplay" class="def">emptyplay</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:emptyplay" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>emptyplayExp</strong>.</p></div></div><div class="top"><p class="src"><a id="v:foodLittleExp" class="def">foodLittleExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:foodLittleExp" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p><strong>Utilizada quando o Pacman se move para posi&#231;&#245;es com <em>Food Little</em></strong>. Ao jogador que cont&#234;m o ID fornecido pela <em>Play</em>, altera os pontos (em <strong>+1</strong>) e muda as coordenadas de acordo com a orienta&#231;&#227;o da <em>Play</em>.  
 Para isto, utiliza a fun&#231;&#227;o auxiliar <strong>foodLittle</strong>.</p></div></div><div class="top"><p class="src"><a id="v:foodLittle" class="def">foodLittle</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:foodLittle" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>foodLittleExp</strong>.</p></div></div><div class="top"><p class="src"><a id="v:pacMegaSpeed" class="def">pacMegaSpeed</a> :: Double <a href="#v:pacMegaSpeed" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p><strong>Utilizada quando o Pacman se move para posi&#231;&#245;es com <em>Food Big</em></strong>. Ao jogador que cont&#234;m o ID fornecido pela <em>Play</em> (neste caso, um Pacman), utiliza-se a fun&#231;&#227;o auxiliar <strong>foodBig</strong> para alterar os pontos (em <strong>+5</strong>) e mudar as coordenadas de acordo com a orienta&#231;&#227;o da <em>Play</em>.</p><p>Os <em>Ghosts</em> diminuem a sua velocidade para metade.  </p></div></div><div class="top"><p class="src"><a id="v:pacNormalSpeed" class="def">pacNormalSpeed</a> :: Double <a href="#v:pacNormalSpeed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ghostAliveSpeed" class="def">ghostAliveSpeed</a> :: Double <a href="#v:ghostAliveSpeed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ghostDeadSpeed" class="def">ghostDeadSpeed</a> :: Double <a href="#v:ghostDeadSpeed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:foodBigExp" class="def">foodBigExp</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:foodBigExp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:foodBig" class="def">foodBig</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:foodBig" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>foodBigExp</strong>.</p></div></div><div class="top"><p class="src"><a id="v:geralPacGhost" class="def">geralPacGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:geralPacGhost" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Fun&#231;&#227;o utilizada quando o Pacman encontra um <em>Ghost</em> e tem mais do que <strong>0 lives</strong>.</p><h3>Condi&#231;&#245;es:</h3><ul><li>Se o Pacman estiver no modo <strong>Normal</strong>, &#233; utilizada a fun&#231;&#227;o auxiliar <strong>pacNormalGhost</strong>;</li><li>Se o Pacman estiver no modo <strong>Mega</strong>, &#233; utilizada a fun&#231;&#227;o auxiliar <strong>pacMegaGhost</strong>.</li></ul></div></div><div class="top"><p class="src"><a id="v:pacNormalGhost" class="def">pacNormalGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:pacNormalGhost" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da Fun&#231;&#227;o</h2><p>Quando o Pacman est&#225; em modo <strong>Normal</strong> e tem <strong>mais do que 0 lives</strong>, este volta &#224; sua posi&#231;&#227;o inicial perdendo uma vida. </p></div></div><div class="top"><p class="src"><a id="v:pacMegaGhost" class="def">pacMegaGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:pacMegaGhost" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Quando o Pacman est&#225; em modo <strong>Mega</strong>, este <strong>ganha 10 points</strong> e o <em>Ghost</em> volta &#224; casa dos fantasmas alterando para o modo <strong>Alive</strong>.</p></div></div><div class="top"><p class="src"><a id="v:teleport" class="def">teleport</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:teleport" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Fun&#231;&#227;o aplicada quando um <em>Player</em> entra num dos tuneis. Aplicando a fun&#231;&#227;o auxiliar <strong>teleport</strong>, altera a sua posi&#231;&#227;o para o outro lado do <em>Maze</em>, no mesmo corredor.</p></div></div><div class="top"><p class="src"><a id="v:teleportAux" class="def">teleportAux</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:teleportAux" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>teleport</strong>.</p></div></div><div class="top"><p class="src"><a id="v:pacDeath" class="def">pacDeath</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:pacDeath" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Fun&#231;&#227;o aplicada quando o Pacman tem <strong>0 lives</strong> e est&#225; no modo <strong>Normal</strong>, cuja utilidade &#233; mudar o estado do Pacman para <strong>Dying</strong>.</p></div></div><a href="#g:4" id="g:4"><h1>Fun&#231;&#245;es auxiliares para as situa&#231;&#245;es em que o Pacman &quot;encontra&quot; comida e fantasmas (simultaneamente).</h1></a><div class="top"><p class="src"><a id="v:megalittle" class="def">megalittle</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:megalittle" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Esta fun&#231;&#227;o &#233; utilizada quando o Pacman est&#225; no modo <strong>Mega</strong> e come um <em>Ghost</em> que tem <em>Food Little</em> &quot;abaixo&quot;. Para isso, aplica a fun&#231;&#227;o <strong>foodLittleExp2</strong> que <strong>altera os pontos em +1</strong> do jogador que corresponde ao ID fornecdido.</p></div></div><div class="top"><p class="src"><a id="v:foodLittleExp2" class="def">foodLittleExp2</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:foodLittleExp2" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>megaLittle</strong>.</p></div></div><div class="top"><p class="src"><a id="v:foodLittle2" class="def">foodLittle2</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:foodLittle2" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>foodLittleExp2</strong>.</p></div></div><div class="top"><p class="src"><a id="v:megaBig" class="def">megaBig</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:megaBig" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Esta fun&#231;&#227;o &#233; aplicada quando o Pacman est&#225; no modo <strong>Mega</strong> e come um <em>Ghost</em> que tem <em>Food Little</em> &quot;abaixo&quot;. Para isso, aplica a fun&#231;&#227;o <strong>foodBigExp2</strong> que <strong>altera em +1</strong> os pontos do jogador que corresponde ao ID fornecdido.</p></div></div><div class="top"><p class="src"><a id="v:foodBigExp2" class="def">foodBigExp2</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:foodBigExp2" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>megaBig</strong>.</p></div></div><div class="top"><p class="src"><a id="v:foodBig2" class="def">foodBig2</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:foodBig2" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>foodBigExp2</strong>.</p></div></div><a href="#g:5" id="g:5"><h1>Jogadas dos fantasmas</h1></a><div class="top"><p class="src"><a id="v:playGho" class="def">playGho</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:playGho" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o </h2><p>A fun&#231;&#227;o <strong>playGho</strong> recebe um estado e uma <em>Play</em> e usa o <strong>ID</strong> e a <strong>orienta&#231;&#227;o</strong> contidas na <em>Play</em> para operar nos jogadores do estado (neste caso, ser&#227;o apenas os fantasmas) de acordo com as condi&#231;&#245;es mais abaixo abordadas.</p><h2>Fun&#231;&#245;es locais da fun&#231;&#227;o playGho</h2><p><strong>Coordenadas do <em>Player</em> do que corresponde ao ID fornecido</strong></p><ul><li><pre>(a,b) = (getPlayerCoords (encID id players))</pre></li></ul><p><strong>Comprimento e largura do <em>Maze</em></strong></p><ul><li><pre>y = length (head maze)</pre></li><li><pre>x = length maze</pre></li></ul><p><strong>Revelar o <em>Player</em> que se encontra &#224; frente</strong></p><ul><li><pre>revealPlayer = revealPlayerOr (Move id or) players</pre></li></ul><p><strong>Revelar a <em>Piece</em> que se encontra &#224; frente</strong></p><ul><li><pre>revP = revealPieceOr (Move id or) (State maze players level)</pre></li></ul><h3>Condi&#231;&#245;es</h3><ul><li>Se a orienta&#231;&#227;o da <em>Play</em> for <strong>Null</strong>: devolve o mesmo estado;</li><li>Se a orienta&#231;&#227;o da <em>Play</em> n&#227;o for a mesma da do fantasma: altera a orienta&#231;&#227;o do fastasma para a orienta&#231;&#227;o fornecida;</li><li>Se a <em>Play</em> movimentar o fantasma para uma posi&#231;&#227;o que n&#227;o se encontre no labirinto (<strong>(x,-1)</strong> ou <strong>(x,y)</strong>, sendo <strong>y</strong> o comprimento dos corredores), ou seja, se este entrar no <strong>t&#250;nel</strong>: &#233; utilizada a fun&#231;&#227;o
 <strong>teleport</strong> no fastasma em quest&#227;o e este transita para o t&#250;nel oposto com a mesma orienta&#231;&#227;o;</li><li>Se a <em>Play</em> direcionar o fantasma para uma <strong><em>Wall</em></strong> : devolve o mesmo estado;</li><li>Se a <em>Play</em> direcionar o fantasma para <strong>Empty</strong>, <strong>Fodd Little</strong> ou <strong>Food Big</strong> e n&#227;o houver nessa coordenada nenhum jogador: &#233; aplicada a fun&#231;&#227;o <strong>ghoMoving</strong> e o fantasma transita para essa posi&#231;&#227;o;</li><li>Se a <em>Play</em> direcionar o fantasma para a posi&#231;&#227;o de um <strong>Pacman no modo Normal</strong> com <strong>0 lives</strong>: &#233; aplicada a fun&#231;&#227;o <strong>ghoKillPacman</strong> e o <strong>Pacman entra no Modo Dying</strong>;</li><li>Se a <em>Play</em> direcionar o fantasma para a posi&#231;&#227;o de um <strong>Pacman no modo Normal</strong> com <strong>mais de 0 lives</strong>: &#233; aplicada a fun&#231;&#227;o <strong>ghoKillPacman</strong> o que faz com que o Pacman volte &#224; posi&#231;&#227;o com <strong>-1 live</strong> e o fantasma avance para a sua posi&#231;&#227;o;</li><li>Se a <em>Play</em> direcionar o fantasma para a posi&#231;&#227;o de um <strong>Pacman no modo Mega</strong>: &#233; aplicada a fun&#231;&#227;o <strong>ghoVSMega</strong> que faz com que o fantasma retorne para a casa dos fantasmas, o seu estado seja trocado para <strong>Alive</strong> e o Pacman ganhe <strong>10 points</strong>;</li><li>Se a <em>Play</em> direcionar o fantasma para a posi&#231;&#227;o de um <strong>Fastama</strong>: o fantasma ao qual foi aplicada a <em>Play</em> movimenta-se da para essa coordenada. </li></ul></div></div><a href="#g:6" id="g:6"><h1>Fun&#231;&#245;es auxiliares para as <strong>playGho</strong></h1></a><div class="top"><p class="src"><a id="v:ghoMoving" class="def">ghoMoving</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:ghoMoving" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Esta fun&#231;&#227;o &#233; usada para mover o fantasma para uma determinada coordenada sem quaisquer tipo de restri&#231;&#227;o. </p></div></div><div class="top"><p class="src"><a id="v:ghoMovingAux" class="def">ghoMovingAux</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:ghoMovingAux" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar de <strong>ghoMoving</strong>.</p></div></div><div class="top"><p class="src"><a id="v:ghoKillPacman" class="def">ghoKillPacman</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:ghoKillPacman" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Esta fun&#231;&#227;o &#233; usada para quando o fantasma encontra o <strong>Pacman no modo Normal</strong> e faz com que o fantasma avance para a posi&#231;&#227;o do Pacman, alterando a <em>heath</em> do Pacman em <strong>-1 lives</strong>.</p></div></div><div class="top"><p class="src"><a id="v:ghoVsMega" class="def">ghoVsMega</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:ghoVsMega" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Esta fun&#231;&#227;o &#233; usada quando o fantasma encontra o <strong>Pacman no modo Mega</strong> e faz com que o fantasma volte para a casa dos fantasmas, mudando o seu estado para <strong>Alive</strong>, e o Pacman tenha a sua pontua&#231;&#227;o alterada em <strong>+10</strong>. </p></div></div><a href="#g:7" id="g:7"><h1>Objetivo da Tarefa 2</h1></a><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>A fun&#231;&#227;o <strong>play</strong> faz a compila&#231;&#227;o das fun&#231;&#245;es <strong>playPac</strong> e <strong>playGho</strong>, ou seja, se o ID do jogador contido na <em>Play</em> corresponder ao de um <em>Pacman</em>,
 ser&#225; aplicada a fun&#231;&#227;o <strong>playPac</strong> a esse jogador, caso contr&#225;rio, ser&#225; aplicada a fun&#231;&#227;o <strong>playGho</strong> ao fantasma que cont&#234;m o ID da <em>Play</em>. </p></div></div><a href="#g:8" id="g:8"><h1>&quot;<em>Quick Plays</em>&quot;&quot;</h1></a><div class="top"><p class="src"><a id="v:quickP" class="def">quickP</a> :: Int -&gt; Int -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:quickP" class="selflink">#</a></p><div class="doc"><h2>Descri&#231;&#227;o da fun&#231;&#227;o</h2><p>Fun&#231;&#227;o criada para testes. Recebe o n&#250;mero de movimentos, <strong><em>ID</em></strong>, <strong><em>Orientation</em></strong> e <strong><em>State</em></strong> e aplica a fun&#231;&#227;o <strong>play</strong> <strong>n</strong> vezes sobre um <em>State</em>, sendo <strong>n</strong> o n&#250;mero de movimentos recebido.</p><h3>Utiliza&#231;&#227;o</h3><p>Em testes revelou-se muito ut&#237;l pois faz <strong>movimentos consecutivos</strong> numa certa orienta&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:revealAllPlayerOr" class="def">revealAllPlayerOr</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:revealAllPlayerOr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:revealAllPlayers" class="def">revealAllPlayers</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:revealAllPlayers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rmPacmans" class="def">rmPacmans</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:rmPacmans" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:revealPieceReverse" class="def">revealPieceReverse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:revealPieceReverse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rmGhosts" class="def">rmGhosts</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:rmGhosts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:downs" class="def">downs</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:downs" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>