<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Nesta Tarefa, o objetivo foi criar um <em>bot</em> que fosse o mais eficiente poss&#237;vel a obter pontos.</p><h1>Desenvolvimento</h1><p>Para que o <em>bot</em> se adaptasse a cada situa&#231;&#227;o do jogo, criamos tr&#234;s modos diferentes que ele pode adotar:</p><ul><li>Escape Mode: quando existem <em>Ghosts</em> pr&#243;ximos do <em>bot</em>, este vai se mover de forma a aumentar a dist&#226;ncia entre ele e os <em>Ghosts</em>.</li><li>Chase Mode: quando o <em>bot</em> encontra uma <em>Food Big</em>, come&#231;a a perseguir um dos <em>Ghosts</em> at&#233; o conseguir comer.</li><li>Look For Food Mode: quando nenhumas das condi&#231;&#245;es que invocam os modos acimas s&#227;o satisfeitas, o <em>bot</em> apenas procura por <em>Foods</em>. </li></ul><h1>Conclus&#227;o</h1><p>Consideramos que o <em>bot</em>, ap&#243;s comer o primeiro fantasma, devesse sair do Chase Mode uma vez que haver <em>Ghosts</em> no modo <em>Alive</em>
o deixa vulner&#225;vel.</p><p>Esta Tarefa, apesar de exigir bastantes testes, n&#227;o revelou muita dificuldade ao grupo, uma vez que j&#225; tinhamos entendido a l&#243;gica
da Tarefa 5. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:ghostCoords">ghostCoords</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:biggestDist">biggestDist</a> :: [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:escapeGhostsMode">escapeGhostsMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:chaseGhostsMode">chaseGhostsMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:mazeToCoords">mazeToCoords</a> :: Int -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:coordsWithFood">coordsWithFood</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:lookForFoodMode">lookForFoodMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:coordsProx">coordsProx</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:elemGhostProx">elemGhostProx</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:numberOfFoodsMaze">numberOfFoodsMaze</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:thereIsOneFood">thereIsOneFood</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Bool</li><li class="src short"><a href="#v:bot">bot</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:botMaybeToPlay">botMaybeToPlay</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:ghostCoords" class="def">ghostCoords</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:ghostCoords" class="selflink">#</a></p><div class="doc"><p>Dado uma lista de <em>Players</em>, devolve as coordenadas de todos os <em>Ghosts</em>.</p></div></div><div class="top"><p class="src"><a id="v:biggestDist" class="def">biggestDist</a> :: [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:biggestDist" class="selflink">#</a></p><div class="doc"><p>Ao contr&#225;rio da fun&#231;&#227;o <strong>smallerDist</strong> (Tarefa 4), esta fun&#231;&#227;o calcula a coordenada para o qual o <em>bot</em>
 se dever&#225; mover para aumentar a dist&#226;ncia aos advers&#225;rios.</p></div></div><div class="top"><p class="src"><a id="v:escapeGhostsMode" class="def">escapeGhostsMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:escapeGhostsMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel pelo Escape Mode. </p><p>Determinada a <em>Play</em> que o <em>bot</em> ter&#225; que executar para aumentar a dist&#226;ncia aos <em>Ghosts</em>.</p></div></div><div class="top"><p class="src"><a id="v:chaseGhostsMode" class="def">chaseGhostsMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseGhostsMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel pelo Chase Mode.</p><p>Usa a fun&#231;&#227;o <strong>smallerDist</strong> da Tarefa 4 como auxiliar para determinar que <em>Play</em> o <em>bot</em> ter&#225; de executar para 
 que diminua a sua dist&#226;ncia aos <em>Ghosts</em>.</p></div></div><div class="top"><p class="src"><a id="v:mazeToCoords" class="def">mazeToCoords</a> :: Int -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:mazeToCoords" class="selflink">#</a></p><div class="doc"><p>Dado um <em>Maze</em>, calcula todas as coordenadas que lhe pertencem (Esta fun&#231;&#227;o recebe um acumulador que dever&#225; ser colocado a 0).</p></div></div><div class="top"><p class="src"><a id="v:coordsWithFood" class="def">coordsWithFood</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:coordsWithFood" class="selflink">#</a></p><div class="doc"><p>Dado um <em>Maze</em>, determina a lista de coordenadas que cont&#234;m <em>Foods</em> usando a fun&#231;&#227;o anterior como auxiliar. </p></div></div><div class="top"><p class="src"><a id="v:lookForFoodMode" class="def">lookForFoodMode</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:lookForFoodMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que representa o Look For Food Mode. </p><p>Esta fun&#231;&#227;o usa tamb&#233;m a fun&#231;&#227;o <strong>smallerDist</strong> (Tarefa 4) para determinar a <em>Play</em> que dever&#225; executar para minimizar a dist&#226;ncia &#224;s <em>Foods</em>. </p></div></div><div class="top"><p class="src"><a id="v:coordsProx" class="def">coordsProx</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:coordsProx" class="selflink">#</a></p><div class="doc"><p>Dada uma coordenada, devolve uma lista de coordenadas que constituem um &quot;bloco&quot; 5 por 5 em que o centro &#233; a coordenada de input.</p></div></div><div class="top"><p class="src"><a id="v:elemGhostProx" class="def">elemGhostProx</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool <a href="#v:elemGhostProx" class="selflink">#</a></p><div class="doc"><p>Determina se pertencem <em>Ghosts</em> &#224;s coordenadas pr&#243;ximas do <em>bot</em> usando a fun&#231;&#227;o <strong>coordsProx</strong> como auxiliar.</p></div></div><div class="top"><p class="src"><a id="v:numberOfFoodsMaze" class="def">numberOfFoodsMaze</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int <a href="#v:numberOfFoodsMaze" class="selflink">#</a></p><div class="doc"><p>Calcula o n&#250;mero de <em>Foods</em> de um <em>Maze</em>.</p></div></div><div class="top"><p class="src"><a id="v:thereIsOneFood" class="def">thereIsOneFood</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Bool <a href="#v:thereIsOneFood" class="selflink">#</a></p><div class="doc"><p>Testa se, num <em>Maze, existe apenas uma </em>Food/ (ou zero).</p></div></div><div class="top"><p class="src"><a id="v:bot" class="def">bot</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Maybe <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:bot" class="selflink">#</a></p><div class="doc"><p>Esta &#233; a fun&#231;&#227;o objetivo desta Tarefa.</p><p>A fun&#231;&#227;o <strong>bot</strong> compila todos os modos de agir do Pacman com as suas restri&#231;&#245;es. Uma vez que, no nosso MiniGame, <strong>KillPacman</strong>, havia dois Pacmans, 
 ent&#227;o, quando um deles comia a &#250;ltima <em>Food</em> e o outro n&#227;o recebia coordenadas algumas sobre posi&#231;&#245;es de <em>Foods</em>, o que constituia uma excess&#227;o.
 Para dar a volta a esse problema, adicionamos a restri&#231;&#227;o no <strong>bot</strong> para que, quando sobra apenas uma <em>Food</em>, a fun&#231;&#227;o retorna <strong>Nothing</strong>. </p></div></div><div class="top"><p class="src"><a id="v:botMaybeToPlay" class="def">botMaybeToPlay</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:botMaybeToPlay" class="selflink">#</a></p><div class="doc"><p>Para que pudessemos utilizar a fun&#231;&#227;o <strong>bot</strong> no <strong>passTime</strong> da Tarefa 4, tivemos que criar uma fun&#231;&#227;o que convertesse <strong>Maybe Play</strong> para <strong>Play</strong></p><p>No caso da fun&#231;&#227;o <strong>bot</strong> devolver <strong>Nothing</strong>, a fun&#231;&#227;o  <strong>botMaybeToPlay</strong> devolve <strong>Move id Null</strong>, sendo <strong>id</strong> o ID do <em>bot</em>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>